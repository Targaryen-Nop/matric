{% extends 'base.html' %}
{% block title %}
<title>Register</title>
{% endblock %}
{% block contian %}
<div class="d-flex justify-content-center align-items-center my-3 " style="height: 75vh;">
  <div>
    <div class="card " style="width: 500px;">
      <div class="card-body">
        <form method='POST' action="{% url 'register' %}">
          {% csrf_token %}
          {{ form.non_field_errors }}
          <h5 class="card-title text-center">Register</h5>
        <!-- <label for="basic-url" class="form-label">EMAIL :</label>
        <div class="input-group mb-3">
          <input type="email" class="form-control" id="basic-url">
        </div>
        <label for="basic-url" class="form-label">PASSWORD :</label>
        <div class="input-group mb-3">
          <input type="password" class="form-control" id="password">
        </div>
        <label for="basic-url" class="form-label">CONFIRM PASSWORD : </label>
        <div class="input-group mb-3">
          <input type="password" class="form-control" id="cpassword" oninput="checkpassword()">
        </div> -->
        <p id="validate" class="text-danger"></p> 
          <div class="form-field my-3">
            {{ form.username.label_tag }}
            {{ form.username }}
            {{ form.username.errors }}
          </div>
          <div class="form-field my-3">
            {{ form.password1.label_tag }}
            {{ form.password1 }}
            {{ form.password1.errors }}
          </div>
          <div class="form-field my-3">
            {{ form.password2.label_tag }}
            {{ form.password2 }}
            {{ form.password2.errors }}
          </div>
          <div class="d-grid gap-2 col-6 mx-auto">
            <button type="submit" name="submit" class="btn btn-primary card-link">Sign up</button>
          </div>
          <hr>
          <div class="d-grid gap-2 col-6 mx-auto">
            <a href="/login" class="btn btn-primary card-link">Sign in</a>
          </div>
        </form>
      </div>
    </div>
  </div>

</div>

{% endblock %}

{% block script %}
<script>
  function checkpassword() {
    password = document.getElementById('password').value;
    cpassword = document.getElementById('cpassword').value;
    input = document.getElementById('cpassword')
    if (password != cpassword) {
      input.setCustomValidity('Password dont match!');
      document.getElementById('validate').innerText = "Password don't match"
    } else if (password == cpassword) {
      document.getElementById('validate').innerText = ""
      input.setCustomValidity('');
    }
    input.reportValidity();
  }

</script>
{% endblock %}